# Getting to now PySAMP

## Gamemode Template

First, let's take a look at the template of the gamemode, and then let's figure out all the nuances. First, let's take a look at version 2.0.

### PySAMP 2.0

```python
from samp import *

def OnGameModeInit():
	SetGameModeText("PySAMP Script")
	AddPlayerClass(0, 1958.3783, 1343.1572, 15.3746, 269.1425, 0, 0, 0, 0, 0, 0)
	...

def OnGameModeExit():
	...

def OnPlayerRequestClass(playerid, classid):
	SetPlayerPos(playerid, 1958.3783, 1343.1572, 15.3746)
	SetPlayerCameraPos(playerid, 1958.3783, 1343.1572, 15.3746)
	SetPlayerCameraLookAt(playerid, 1958.3783, 1343.1572, 15.3746)
	...

def OnPlayerConnect(playerid):
	...

def OnPlayerDisconnect(playerid, reason):
	...

def OnPlayerSpawn(playerid):
	...
 
def OnPlayerDeath(playerid, killerid, reason):
	...
 
def OnVehicleSpawn(vehicleid):
	...
 
def OnVehicleDeath(vehicleid, killerid):
	...
 
def OnPlayerText(playerid, text):
	...
 
def OnPlayerCommandText(playerid, cmdtext):
	if cmdtext == "/mycommand":
        ...
	 
	...
 
def OnPlayerEnterVehicle(playerid, vehicleid, ispassenger):
	...
 
def OnPlayerExitVehicle(playerid, vehicleid):
	...
 
def OnPlayerStateChange(playerid, newstate, oldstate):
	...
 
def OnPlayerEnterCheckpoint(playerid):
	...
 
def OnPlayerLeaveCheckpoint(playerid):
	...
 
def OnPlayerEnterRaceCheckpoint(playerid):
	...
 
def OnPlayerLeaveRaceCheckpoint(playerid):
	...
 
def OnRconCommand(cmd):
	...

def OnPlayerRequestSpawn(playerid):
	...

def OnObjectMoved(objectid):
	...
 
def OnPlayerObjectMoved(playerid, objectid):
	...
 
def OnPlayerPickUpPickup(playerid, pickupid):
	...
 
def OnVehicleMod(playerid, vehicleid, componentid):
	...
 
def OnVehiclePaintjob(playerid, vehicleid, paintjobid):
	...
 
def OnVehicleRespray(playerid, vehicleid, color1, color2):
	...
 
def OnPlayerSelectedMenuRow(playerid, row):
	...
 
def OnPlayerExitedMenu(playerid):
	...

def OnPlayerInteriorChange(playerid, newinteriorid, oldinteriorid):
	...
 
def OnPlayerKeyStateChange(playerid, newkeys, oldkeys):
	...

def OnRconLoginAttempt(ip, password, success):
	...
 
def OnPlayerUpdate(playerid):
	...
 
def OnPlayerStreamIn(playerid, forplayerid):
	...
 
def OnPlayerStreamOut(playerid, forplayerid):
	...
 
def OnVehicleStreamIn(vehicleid, forplayerid):
	...

def OnVehicleStreamOut(vehicleid, forplayerid):
	...
 
def OnDialogResponse(playerid, dialogid, response, listitem, inputtext):
	...
 
def OnPlayerClickPlayer(playerid, clickedplayerid, source):
	...
```

Now let's see how this code would look using 2.1.

### PySAMP 2.1

```python
from pysamp import on_gamemode_init, on_gamemode_exit, set_game_mode_text, add_player_class, on_rcon_login_attempt
from pysamp.player import Player, PlayerObject
from pysamp.vehicle import Vehicle
from pysamp.object import Object
from pysamp import callbacks

@on_gamemode_init
def on_ready():
    set_game_mode_text("PySAMP Script")
    add_player_class(0, 1958.3783, 1343.1572, 15.3746, 269.1425, 0, 0, 0, 0, 0, 0)
    ...

@on_gamemode_exit
def on_exit():
    ...

@Player.on_request_class
def on_player_request_class(player: Player, classid: int):
    player.set_pos(1958.3783, 1343.1572, 15.3746)
    player.set_camera_position(1958.3783, 1343.1572, 15.3746)
    player.set_camera_look_at(1958.3783, 1343.1572, 15.3746)

@Player.on_connect
def on_player_connect(player: Player):
    ...

@Player.on_disconnect
def on_player_disconnect(player: Player, reason: str):
    ...

@Player.on_spawn
def on_player_spawn(player: Player):
    ...
 
@Player.on_death
def on_player_death(player: Player, killerid: int, reason: str):
    ...

@Vehicle.on_spawn
def on_vehicle_spawn(vehicle: Vehicle):
    ...
 
@Vehicle.on_death
def on_vehicle_death(vehicle: Vehicle, killerid: int):
    ...

@Player.on_text
def on_player_text(player: Player, text: str):
    ...

@Player.on_enter_vehicle
def on_player_enter_vehicle(player: Player, vehicleid: int, is_passenger):
    ...

@Player.on_exit_vehicle
def on_player_exit_vehicle(player: Player, vehicleid: int):
    ...

@Player.on_state_change
def on_player_state_change(player: Player, newstate: int, oldstate: int):
    ...

@Player.on_enter_checkpoint
def on_player_enter_checkpoint(player: Player):
    ...
 
@Player.on_leave_checkpoint
def on_player_leave_checkpoint(player: Player):
    ...
 
@Player.on_enter_race_checkpoint
def on_player_enter_race_checkpoint(player: Player):
	...
 
@Player.on_leave_race_checkpoint
def on_player_leave_race_checkpoint(player: Player):
	...

@Player.on_request_spawn
def on_player_request_spawn(player: Player):
	...

@Object.on_moved
def on_object_moved(object: Object):
	...

@PlayerObject.on_move
def on_player_object_moved(playerid, objectid):
	...

@Player.on_pick_up_pickup
def on_player_pick_up_pickup(player: Player, pickupid: int):
	...

@Vehicle.on_mod
def on_vehicle_mod(player: Player, vehicle: Vehicle, componentid: int):
	...

@Vehicle.on_paintjob
def on_vehicle_paintjob(layer: Player, vehicle: Vehicle, paintjobid: int):
	...

@Vehicle.on_respray
def on_vehicle_respray(layer: Player, vehicle: Vehicle, color1: int, color2: int):
	...
 
@Player.on_selected_menu_row
def on_player_selected_menu_row(player: Player, row: int):
	...

@Player.on_exited_menu
def on_player_exited_menu(player: Player):
	...

@Player.on_interior_change
def on_player_interior_change(player: Player, newinteriorid: int, oldinteriorid: int):
	...

@Player.on_key_state_change
def on_player_key_state_change(player: Player, newkeys: int, oldkeys: int):
	...

@on_rcon_login_attempt
def on_rcon_attempt(ip: str, password: str, success):
	...
 
@Player.on_update
def on_player_update(player: Player):
	...
 
@Player.on_stream_in
def on_player_stream_in(player: Player, forplayer: Player):
	...

@Player.on_stream_out
def on_player_stream_out(player: Player, forplayer: Player):
	...
 
@Vehicle.on_stream_in
def on_vehicle_stream_in(vehicle: Vehicle, forplayer: Player):
	...

@Vehicle.on_stream_out
def on_vehicle_stream_out(vehicle: Vehicle, forplayer: Player):
	...

@Player.on_click_player
def on_player_click_player(player: Player, clickedplayer: Player, source):
	...

callbacks.hook()
```
Now let's look at the same code, but in Pawn.

### Pawn

```c
#include <a_samp>

main()
{
	print("\n----------------------------------");
	print(" Blank Gamemode by your name here");
	print("----------------------------------\n");
}

public OnGameModeInit()
{
	SetGameModeText("Pawn Script");
	AddPlayerClass(0, 1958.3783, 1343.1572, 15.3746, 269.1425, 0, 0, 0, 0, 0, 0);
	return 1;
}

public OnGameModeExit()
{
	return 1;
}

public OnPlayerRequestClass(playerid, classid)
{
	SetPlayerPos(playerid, 1958.3783, 1343.1572, 15.3746);
	SetPlayerCameraPos(playerid, 1958.3783, 1343.1572, 15.3746);
	SetPlayerCameraLookAt(playerid, 1958.3783, 1343.1572, 15.3746);
	return 1;
}

public OnPlayerConnect(playerid)
{
	return 1;
}

public OnPlayerDisconnect(playerid, reason)
{
	return 1;
}

public OnPlayerSpawn(playerid)
{
	return 1;
}

public OnPlayerDeath(playerid, killerid, reason)
{
	return 1;
}

public OnVehicleSpawn(vehicleid)
{
	return 1;
}

public OnVehicleDeath(vehicleid, killerid)
{
	return 1;
}

public OnPlayerText(playerid, text[])
{
	return 1;
}

public OnPlayerCommandText(playerid, cmdtext[])
{
	if (strcmp("/mycommand", cmdtext, true, 10) == 0)
	{
		
		return 1;
	}
	return 0;
}

public OnPlayerEnterVehicle(playerid, vehicleid, ispassenger)
{
	return 1;
}

public OnPlayerExitVehicle(playerid, vehicleid)
{
	return 1;
}

public OnPlayerStateChange(playerid, newstate, oldstate)
{
	return 1;
}

public OnPlayerEnterCheckpoint(playerid)
{
	return 1;
}

public OnPlayerLeaveCheckpoint(playerid)
{
	return 1;
}

public OnPlayerEnterRaceCheckpoint(playerid)
{
	return 1;
}

public OnPlayerLeaveRaceCheckpoint(playerid)
{
	return 1;
}

public OnRconCommand(cmd[])
{
	return 1;
}

public OnPlayerRequestSpawn(playerid)
{
	return 1;
}

public OnObjectMoved(objectid)
{
	return 1;
}

public OnPlayerObjectMoved(playerid, objectid)
{
	return 1;
}

public OnPlayerPickUpPickup(playerid, pickupid)
{
	return 1;
}

public OnVehicleMod(playerid, vehicleid, componentid)
{
	return 1;
}

public OnVehiclePaintjob(playerid, vehicleid, paintjobid)
{
	return 1;
}

public OnVehicleRespray(playerid, vehicleid, color1, color2)
{
	return 1;
}

public OnPlayerSelectedMenuRow(playerid, row)
{
	return 1;
}

public OnPlayerExitedMenu(playerid)
{
	return 1;
}

public OnPlayerInteriorChange(playerid, newinteriorid, oldinteriorid)
{
	return 1;
}

public OnPlayerKeyStateChange(playerid, newkeys, oldkeys)
{
	return 1;
}

public OnRconLoginAttempt(ip[], password[], success)
{
	return 1;
}

public OnPlayerUpdate(playerid)
{
	return 1;
}

public OnPlayerStreamIn(playerid, forplayerid)
{
	return 1;
}

public OnPlayerStreamOut(playerid, forplayerid)
{
	return 1;
}

public OnVehicleStreamIn(vehicleid, forplayerid)
{
	return 1;
}

public OnVehicleStreamOut(vehicleid, forplayerid)
{
	return 1;
}

public OnDialogResponse(playerid, dialogid, response, listitem, inputtext[])
{
	return 1;
}

public OnPlayerClickPlayer(playerid, clickedplayerid, source)
{
	return 1;
}
```

Now we have everything figured out, let's write our first gamemode. If you have any problems, **feel free to ask for help** on our [Discord](https://discord.gg/xR5h6Gpuye) server.

## Explanation

* PySAMP 2.0.0 uses the same function names as Pawn.
* PySAMP 2.1 is a wrapper, it is much easier and more convenient to use, we will use 2.1 in the future.
* The dialogs in 2.1 are slightly different from 2.0, and I will explain them as we go through the tutorial
* The [open.mp](https://open.mp/docs) documentation will help you understand how to write a mode, including in Python.
* PySAMP fully supports the installation of [pip3](https://pypi.org/) modules. This means that you can use [any modules](https://github.com/pysamp/PySAMP/releases/tag/v2.0.0) that are available in Python.

